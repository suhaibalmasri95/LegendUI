<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-10">
        <!-- <h2>{{formControls.Name}}</h2> -->
        <h2>Organizations</h2>
        <ol class="breadcrumb">
            <li>
                <a href="index.html">Home</a>
            </li>
            <li>
                <a>Organizations</a>
            </li>
            <li class="active">
                <strong>Menu Details</strong>
            </li>
        </ol>
    </div>
    <div class="col-sm-2">
        <div class="title-action">
            <!-- <a ui-sref="pages.edit-form({id:formControls.id})" class="btn btn-primary">Edit This form</a> -->
        </div>
    </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight">

    <div class="row">
        <div class="col-md-12">

            <div class="tabs-container">
                <div class="panel-body">

                    <fieldset>
                        <legend>
                            Systems
                        </legend>

                        <form #form1="ngForm" (ngSubmit)="saveSystem(form1)" class="{{submit?'submited':''}}">
                            <div class="row">
                                <div class="form-group col-md-3">
                                    <label for="Name">Name <span class="help-block">*</span></label>
                                    <input name="Name" placeholder="Name" type="text" class="form-control" [(ngModel)]="systemForm.Name"
                                        required>
                                </div>
                                <div class="form-group col-md-3">
                                    <label for="Name2">Name 2</label>
                                    <input name="Name2" placeholder="Name 2" type="text" class="form-control"
                                        [(ngModel)]="systemForm.Name2">
                                </div>
                                <div class="form-group col-md-3">
                                    <label for="Order">Order <span class="help-block">*</span> </label>
                                    <input name="Order" placeholder="Order" type="number" class="form-control"
                                        [(ngModel)]="systemForm.Order" required>
                                </div>
                                <div class="form-group col-md-3">
                                    <label for="Url">Url <span class="help-block">*</span></label>
                                    <input name="Url" placeholder="Url" type="text" class="form-control" [(ngModel)]="systemForm.Url"
                                        required>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-12 text-right">
                                    <br>
                                    <br>
                                    <div class="btn-group">
                                        <input class="btn btn-default" type="reset" (click)="resetForm(form1)"
                                            value="Reset" />
                                        <input class="btn btn-primary" type="submit" value="Save" (click)="submit=true" />
                                    </div>
                                </div>
                            </div>
                        </form>
                    </fieldset>

                    <br>

                    <mat-tab-group (selectedTabChange)="changeTab($event)">
                        <mat-tab label="Systems">

                            <div class="col-md-12">
                                <div class="html5buttons">
                                    <br>
                                    <div class="dt-buttons btn-group">
                                        <button class="btn btn-default" [disabled]="!selection.hasValue()"
                                            mwlConfirmationPopover [popoverTitle]="'Confirm'" [popoverMessage]="'are you sure to delete?'"
                                            placement="bottom" (confirm)="deleteSelectedData()" ngbTooltip="Delete">
                                            <img src="assets/images/Trash-can.png"></button>
                                        <a class="btn btn-default buttons-csv buttons-html5" (click)="export('csv','system')"
                                            placement="bottom" ngbTooltip="Export to CSV"><span>
                                                <img src="assets/images/csv.jpg"></span></a>
                                        <a class="btn btn-default buttons-excel buttons-html5" (click)="export('excel','system')"
                                            placement="bottom" ngbTooltip="Export to Excel"><span><img src="assets/images/ExcelLogoSmall.scale-80.png"></span></a>
                                        <a class="btn btn-default buttons-pdf buttons-html5" (click)="export('pdf','system')"
                                            placement="bottom" ngbTooltip="Export to PDF"><span><img src="assets/images/pdf.jpg"></span></a>
                                        <a class="btn btn-default buttons-print" placement="bottom" ngbTooltip="Print Data"><span><img
                                                    src="assets/images/print.jpg"></span></a>
                                    </div>
                                </div>
                                <br>
                                <mat-form-field>
                                    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
                                </mat-form-field>
                                <div class="x">
                                    <div class="table-container">
                                        <table mat-table #table [dataSource]="systemsDataSource" matSort>

                                            <ng-container matColumnDef="select">
                                                <th mat-header-cell *matHeaderCellDef>
                                                    <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()"
                                                        [indeterminate]="selection.hasValue() && !isAllSelected()">
                                                    </mat-checkbox>
                                                </th>
                                                <td style="width: 5%" mat-cell *matCellDef="let row">
                                                    <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
                                                        [checked]="selection.isSelected(row)">
                                                    </mat-checkbox>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="ID">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                                                <td style="width: 5%" mat-cell *matCellDef="let element">
                                                    {{element.ID}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.Name}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Name2">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name2</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.Name2}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Order">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Order</th>
                                                <td style="width: 20%" mat-cell *matCellDef="let element">
                                                    {{element.Order}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Url">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Url</th>
                                                <td style="width: 20%" mat-cell *matCellDef="let element">
                                                    {{element.Url}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="actions">
                                                <th mat-header-cell *matHeaderCellDef>Actions</th>
                                                <td style="width: 20%" mat-cell *matCellDef="let element">
                                                    <i (click)="updateSystem(element)" class="fa fa-edit" placement="left"
                                                        ngbTooltip="Edit"></i>
                                                    <i (click)="$event.stopPropagation()" class="fa fa-remove"
                                                        mwlConfirmationPopover [popoverTitle]="'Confirm'"
                                                        [popoverMessage]="'are you sure to delete?'" placement="left"
                                                        (confirm)="deleteSystem(element.ID)" ngbTooltip="Delete"></i>
                                                </td>
                                            </ng-container>

                                            <tr mat-header-row *matHeaderRowDef="systemTableColumns"></tr>
                                            <tr mat-row *matRowDef="let row; columns: systemTableColumns;" (click)="updateSystem(row)"
                                                class=" mat-row {{systemForm.ID===row.ID?'active':'not-active'}}"></tr>

                                        </table>
                                    </div>
                                    <mat-paginator #paginator [pageSizeOptions]="[10, 20, 30 ,40,50]"
                                        [showFirstLastButtons]="true"></mat-paginator>

                                </div>
                            </div>

                        </mat-tab>

                        <mat-tab label="Modules">
                            <div class="col-md-12">
                                <div class="html5buttons">
                                    <br>
                                    <div class="dt-buttons btn-group">
                                        <button class="btn btn-default" [disabled]="!selection2.hasValue()"
                                            mwlConfirmationPopover [popoverTitle]="'Confirm'" [popoverMessage]="'are you sure to delete?'"
                                            placement="bottom" (confirm)="deleteSelectedData()" ngbTooltip="Delete">
                                            <img src="assets/images/Trash-can.png"></button>
                                        <a class="btn btn-default buttons-csv buttons-html5" (click)="export('csv','module')"
                                            placement="bottom" ngbTooltip="Export to CSV"><span>
                                                <img src="assets/images/csv.jpg"></span></a>
                                        <a class="btn btn-default buttons-excel buttons-html5" (click)="export('excel','module')"
                                            placement="bottom" ngbTooltip="Export to Excel"><span><img src="
                                            assets/images/ExcelLogoSmall.scale-80.png">
                                            </span> </a>
                                        <a class="btn btn-default buttons-pdf buttons-html5" (click)="export('pdf','module')"
                                            placement="bottom" ngbTooltip="Export to PDF"><span><img src="assets/images/pdf.jpg"></span></a>
                                        <a class="btn btn-default buttons-print" placement="bottom" ngbTooltip="Print Data"><span><img
                                                    src="assets/images/print.jpg"></span></a>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <mat-form-field>
                                        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-3">
                                    <mat-form-field>
                                        <mat-select placeholder="System" (selectionChange)="reloadModuleTable(moduleForm.SubMenuID)"
                                            [(ngModel)]="moduleForm.SubMenuID">
                                            <mat-option [value]=""> All </mat-option>
                                            <mat-option *ngFor="let system of systems" [value]="system.ID">
                                                {{system.Name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="x">
                                    <div class="table-container">
                                        <table mat-table #table2 [dataSource]="modulesDataSource" matSort>

                                            <ng-container matColumnDef="select">
                                                <th mat-header-cell *matHeaderCellDef>
                                                    <mat-checkbox (change)="$event ? masterToggle2() : null" [checked]="selection2.hasValue() && isAllSelected2()"
                                                        [indeterminate]="selection2.hasValue() && !isAllSelected2()">
                                                    </mat-checkbox>
                                                </th>
                                                <td mat-cell *matCellDef="let row">
                                                    <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection2.toggle(row) : null"
                                                        [checked]="selection2.isSelected(row)">
                                                    </mat-checkbox>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="ID">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                                                <td style="width: 5%" mat-cell *matCellDef="let element">
                                                    {{element.ID}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.Name}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Name2">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name2</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.Name2}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Order">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Order</th>
                                                <td style="width: 20%" mat-cell *matCellDef="let element">
                                                    {{element.Order}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="System">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>System</th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getSystemName(element.SubMenuID,1).Name}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="actions">
                                                <th mat-header-cell *matHeaderCellDef>Actions</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <i (click)="updateModule(element)" class="fa fa-edit" placement="left"
                                                        ngbTooltip="Edit"></i>
                                                    <i (click)="$event.stopPropagation()" class="fa fa-remove"
                                                        mwlConfirmationPopover [popoverTitle]="'Confirm'"
                                                        [popoverMessage]="'are you sure to delete?'" placement="left"
                                                        (confirm)="deleteSystem(element.ID)" ngbTooltip="Delete"></i>
                                                </td>
                                            </ng-container>

                                            <tr mat-header-row *matHeaderRowDef="moduleTableColumns"></tr>
                                            <tr mat-row *matRowDef="let row; columns: moduleTableColumns;" (click)="updateModule(row)"
                                                class=" mat-row {{moduleForm.ID===row.ID?'active':'not-active'}}"></tr>

                                        </table>
                                    </div>
                                    <mat-paginator #paginator2 [pageSizeOptions]="[10, 20, 30 ,40,50]"
                                        [showFirstLastButtons]="true"></mat-paginator>
                                </div>

                                <div class="hr-line-dashed"></div>


                                <div class="col-md-12 extra-form">

                                    <fieldset class="animated fadeInDown">
                                        <legend>
                                            Module
                                        </legend>
                                        <form #form2="ngForm" (ngSubmit)="saveModule(form2)" class="{{submit2?'submited':''}}">
                                            <div class="row">

                                                <div class="form-group col-md-3">
                                                    <label for="SubMenuID">System <span class="help-block">*</span></label>
                                                    <select name="SubMenuID" class="form-control" [(ngModel)]="moduleForm.SubMenuID"
                                                        required>
                                                        <option [ngValue]="undefined">Select</option>
                                                        <option *ngFor="let system of systems" [ngValue]="system.ID">{{system.Name}}</option>
                                                    </select>
                                                </div>

                                                <div class="form-group col-md-3">
                                                    <label for="Name">Name <span class="help-block">*</span></label>
                                                    <input name="Name" placeholder="Name" type="text" class="form-control"
                                                        [(ngModel)]="moduleForm.Name" required>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="Name2">Name 2</label>
                                                    <input name="Name2" placeholder="Name 2" type="text" class="form-control"
                                                        [(ngModel)]="moduleForm.Name2">
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="Order">Order <span class="help-block">*</span> </label>
                                                    <input name="Order" placeholder="Order" type="number" class="form-control"
                                                        [(ngModel)]="moduleForm.Order" required>
                                                </div>

                                            </div>

                                            <div class="row">
                                                <div class="form-group col-md-3">
                                                    <label for="Url">Url <span class="help-block">*</span></label>
                                                    <input name="Url" placeholder="Url" type="text" class="form-control"
                                                        [(ngModel)]="moduleForm.Url" required>
                                                </div>
                                                <div class="col-md-8 text-right">
                                                    <br>
                                                    <br>
                                                    <input class="btn btn-default" type="reset" (click)="resetForm(form2)"
                                                        value="Reset" />

                                                    <input class="btn btn-primary" type="submit" value="Save" (click)="submit2=true" />
                                                </div>
                                            </div>
                                        </form>
                                    </fieldset>
                                </div>

                            </div>
                        </mat-tab>

                        <mat-tab label="SubModules">
                            <div class="col-md-12">
                                <div class="html5buttons">
                                    <div class="dt-buttons btn-group">
                                        <button class="btn btn-default" [disabled]="!selection3.hasValue()"
                                            mwlConfirmationPopover [popoverTitle]="'Confirm'" [popoverMessage]="'are you sure to delete?'"
                                            placement="bottom" (confirm)="deleteSelectedData()" ngbTooltip="Delete">
                                            <img src="assets/images/Trash-can.png"></button>
                                        <a class="btn btn-default buttons-csv buttons-html5" (click)="export('csv','subModule')"
                                            placement="bottom" ngbTooltip="Export to CSV"><span>
                                                <img src="assets/images/csv.jpg"></span></a>
                                        <a class="btn btn-default buttons-excel buttons-html5" (click)="export('excel','subModule')"
                                            placement="bottom" ngbTooltip="Export to Excel"><span><img src="assets/images/ExcelLogoSmall.scale-80.png"></span></a>
                                        <a class="btn btn-default buttons-pdf buttons-html5" (click)="export('pdf','subModule')"
                                            placement="bottom" ngbTooltip="Export to PDF"><span><img src="assets/images/pdf.jpg"></span></a>
                                        <a class="btn btn-default buttons-print" placement="bottom" ngbTooltip="Print Data"><span><img
                                                    src="assets/images/print.jpg"></span></a>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="System" [(ngModel)]="systemTemp" (selectionChange)="reloadModuleTable(systemTemp)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let system of systems" [value]="system.ID">
                                                    {{system.Name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="module" [disabled]="!modules ||modules.length===0"
                                                [(ngModel)]="subModuleForm.SubMenuID" (selectionChange)="reloadSubModuleTable(subModuleForm.SubMenuID)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let module of modules" [value]="module.ID">
                                                    {{module.Name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="x">
                                    <div class="table-container">
                                        <table mat-table #table3 [dataSource]="subModulesDataSource" matSort>
                                            <ng-container matColumnDef="select">
                                                <th mat-header-cell *matHeaderCellDef>
                                                    <mat-checkbox (change)="$event ? masterToggle3() : null" [checked]="selection3.hasValue() && isAllSelected3()"
                                                        [indeterminate]="selection3.hasValue() && !isAllSelected3()">
                                                    </mat-checkbox>
                                                </th>
                                                <td mat-cell *matCellDef="let row">
                                                    <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection3.toggle(row) : null"
                                                        [checked]="selection3.isSelected(row)">
                                                    </mat-checkbox>
                                                </td>
                                            </ng-container>
                                            <ng-container matColumnDef="ID">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                                                <td style="width: 5%" mat-cell *matCellDef="let element">
                                                    {{element.ID}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.Name}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Name2">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name2</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.Name2}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Order">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Order</th>
                                                <td style="width: 20%" mat-cell *matCellDef="let element">
                                                    {{element.Order}} </td>
                                            </ng-container>
                                            <ng-container matColumnDef="System">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header> System </th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getSystemName(element.SubMenuID,1).Name}}
                                                </td>
                                            </ng-container>
                                            <ng-container matColumnDef="Module">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Module </th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getSystemName(element.SubMenuID,2).Name}}
                                                </td>
                                            </ng-container>
                                            <ng-container matColumnDef="actions">
                                                <th mat-header-cell *matHeaderCellDef>Actions</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <i (click)="updateSubModule(element)" class="fa fa-edit" placement="left"
                                                        ngbTooltip="Edit"></i>
                                                    <i (click)="$event.stopPropagation()" class="fa fa-remove"
                                                        mwlConfirmationPopover [popoverTitle]="'Confirm'"
                                                        [popoverMessage]="'are you sure to delete?'" placement="left"
                                                        (confirm)="deleteSystem(element.ID)" ngbTooltip="Delete"></i>
                                                </td>
                                            </ng-container>
                                            <tr mat-header-row *matHeaderRowDef="subModuleTableColumns"></tr>
                                            <tr mat-row *matRowDef="let row; columns: subModuleTableColumns;" (click)="updateSubModule(row)"
                                                class=" mat-row {{subModuleForm.ID===row.ID?'active':'not-active'}}"></tr>
                                        </table>
                                    </div>

                                    <mat-paginator #paginator3 [pageSizeOptions]="[10, 20, 30 ,40,50]"
                                        showFirstLastButtons></mat-paginator>

                                </div>

                                <div class="hr-line-dashed"></div>



                                <div class="col-md-12 extra-form">
                                    <fieldset class="animated fadeInDown">
                                        <legend>
                                            Sub Module
                                        </legend>
                                        <form #form3="ngForm" (ngSubmit)="saveSubModule(form3)" class="{{submit3?'submited':''}}">

                                            <div class="row">

                                                <div class="form-group col-md-3">
                                                    <label for="System">System<span class="help-block">*</span></label>
                                                    <select name="System" class="form-control" [(ngModel)]="systemTemp"
                                                        (change)="loadModules(systemTemp)" required>
                                                        <option [ngValue]="undefined">Select</option>
                                                        <option *ngFor="let system of systems" [ngValue]="system.ID">{{system.Name}}</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="SubMenuID">Module <span class="help-block">*</span></label>
                                                    <select name="SubMenuID" placeholder="Module" class="form-control"
                                                        [(ngModel)]="subModuleForm.SubMenuID" [disabled]="!systemTemp ||!modules ||modules.length===0"
                                                        required>
                                                        <option ngValue="">Select</option>
                                                        <option *ngFor="let module of modules" [ngValue]="module.ID">{{module.Name}}</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="Name">Name <span class="help-block">*</span></label>
                                                    <input name="Name" placeholder="Name" type="text" class="form-control"
                                                        [(ngModel)]="subModuleForm.Name" required>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="Name2">Name 2</label>
                                                    <input name="Name2" placeholder="Name 2" type="text" class="form-control"
                                                        [(ngModel)]="subModuleForm.Name2">
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="form-group col-md-3">
                                                    <label for="Order">Order <span class="help-block">*</span> </label>
                                                    <input name="Order" placeholder="Order" type="number" class="form-control"
                                                        [(ngModel)]="subModuleForm.Order" required>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="Url">Url <span class="help-block">*</span></label>
                                                    <input name="Url" placeholder="Url" type="text" class="form-control"
                                                        [(ngModel)]="subModuleForm.Url" required>
                                                </div>
                                                <div class="col-md-5 text-right">
                                                    <br>
                                                    <br>
                                                    <input class="btn btn-default" type="reset" (click)="resetForm(form3)"
                                                        value="Reset" />
                                                    <input class="btn btn-primary " type="submit" value="Save" (click)="submit3=true" />
                                                </div>
                                            </div>

                                        </form>
                                    </fieldset>
                                </div>
                            </div>
                        </mat-tab>

                        <mat-tab label="Pages">
                            <div class="col-md-12">
                                <fieldset>
                                    <legend>
                                        Page
                                    </legend>
                                    <form #form4="ngForm" (ngSubmit)="savePage(form4)" class="{{submit4?'submited':''}}">

                                        <div class="row">

                                            <div class="form-group col-md-3">
                                                <label for="System">System<span class="help-block">*</span></label>
                                                <select name="System" class="form-control" [(ngModel)]="systemTemp"
                                                    (change)="loadModules(systemTemp)" required>
                                                    <option [ngValue]="undefined">Select</option>
                                                    <option *ngFor="let system of systems" [ngValue]="system.ID">{{system.Name}}</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <label for="moduleTemp">Module <span class="help-block">*</span></label>
                                                <select name="moduleTemp" placeholder="Module" class="form-control"
                                                    [(ngModel)]="moduleTemp" [disabled]="!systemTemp ||!modules ||modules.length===0"
                                                    (change)="loadSubModules(moduleTemp)" required>
                                                    <option ngValue="">Select</option>
                                                    <option *ngFor="let module of modules" [ngValue]="module.ID">{{module.Name}}</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <label for="SubMenuID">Sub Module <span class="help-block">*</span></label>
                                                <select name="SubMenuID" placeholder="Sub Module" class="form-control"
                                                    [(ngModel)]="pageForm.SubMenuID" [disabled]="!moduleTemp ||!subModules ||subModules.length===0"
                                                    required>
                                                    <option ngValue="">Select</option>
                                                    <option *ngFor="let subModule of subModules" [ngValue]="subModule.ID">{{subModule.Name}}</option>
                                                </select>
                                            </div>

                                            <div class="form-group col-md-3">
                                                <label for="Name">Name <span class="help-block">*</span></label>
                                                <input name="Name" placeholder="Name" type="text" class="form-control"
                                                    [(ngModel)]="pageForm.Name" required>
                                            </div>

                                        </div>

                                        <div class="row">
                                            <div class="form-group col-md-3">
                                                <label for="Name2">Name 2</label>
                                                <input name="Name2" placeholder="Name 2" type="text" class="form-control"
                                                    [(ngModel)]="pageForm.Name2">
                                            </div>
                                            <div class="form-group col-md-3">
                                                <label for="Order">Order <span class="help-block">*</span> </label>
                                                <input name="Order" placeholder="Order" type="number" class="form-control"
                                                    [(ngModel)]="pageForm.Order" required>
                                            </div>
                                            <div class="form-group col-md-3">
                                                <label for="Url">Url <span class="help-block">*</span></label>
                                                <input name="Url" placeholder="Url" type="text" class="form-control"
                                                    [(ngModel)]="pageForm.Url" required>
                                            </div>
                                            <div class="col-md-12 text-right">
                                                <br>
                                                <br>
                                                <input class="btn btn-default" type="reset" (click)="resetForm(form4)"
                                                    value="Reset" />

                                                <input class="btn btn-primary " type="submit" value="Save" (click)="submit4=true" />
                                            </div>
                                        </div>

                                    </form>
                                </fieldset>

                                <div class="hr-line-dashed"></div>

                                <div class="html5buttons">
                                    <br>
                                    <div class="dt-buttons btn-group">
                                        <button class="btn btn-default" [disabled]="!selection.hasValue()"
                                            mwlConfirmationPopover [popoverTitle]="'Confirm'" [popoverMessage]="'are you sure to delete?'"
                                            placement="bottom" (confirm)="deleteSelectedData()" ngbTooltip="Delete">
                                            <img src="assets/images/Trash-can.png"></button>
                                        <a class="btn btn-default buttons-csv buttons-html5" (click)="export('csv','pages')"
                                            placement="bottom" ngbTooltip="Export to CSV"><span>
                                                <img src="assets/images/csv.jpg"></span></a>
                                        <a class="btn btn-default buttons-excel buttons-html5" (click)="export('excel','pages')"
                                            placement="bottom" ngbTooltip="Export to Excel"><span><img src="assets/images/ExcelLogoSmall.scale-80.png"></span></a>
                                        <a class="btn btn-default buttons-pdf buttons-html5" (click)="export('pdf','pages')"
                                            placement="bottom" ngbTooltip="Export to PDF"><span><img src="assets/images/pdf.jpg"></span></a>
                                        <a class="btn btn-default buttons-print" placement="bottom" ngbTooltip="Print Data"><span><img
                                                    src="assets/images/print.jpg"></span></a>
                                    </div>
                                </div>
                                <br>
                                <div class="col-md-12">
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="System" (selectionChange)="reloadPageTable(pageForm.SubMenuID)"
                                                [(ngModel)]="pageForm.SubMenuID">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let system of systems" [value]="system.ID">
                                                    {{system.Name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="module" [disabled]="!modules ||modules.length===0"
                                                [(ngModel)]="pageForm.SubMenuID" (selectionChange)="reloadPageTable(pageForm.SubMenuID)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let module of modules" [value]="module.ID">
                                                    {{module.Name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="Sub Module" [disabled]="!subModules ||subModules.length===0"
                                                [(ngModel)]="pageForm.SubMenuID" (selectionChange)="reloadPageTable(pageForm.SubMenuID)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let subModule of subModules" [value]="subModule.ID">
                                                    {{subModule.Name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="table-container">

                                    <table mat-table #table4 [dataSource]="pagesDataSource" matSort>
                                        <ng-container matColumnDef="select">
                                            <th mat-header-cell *matHeaderCellDef>
                                                <mat-checkbox (change)="$event ? masterToggle4() : null" [checked]="selection4.hasValue() && isAllSelected4()"
                                                    [indeterminate]="selection4.hasValue() && !isAllSelected4()">
                                                </mat-checkbox>
                                            </th>
                                            <td style="width: 5%" mat-cell *matCellDef="let row">
                                                <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection4.toggle(row) : null"
                                                    [checked]="selection4.isSelected(row)">
                                                </mat-checkbox>
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="ID">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                                            <td style="width: 5%" mat-cell *matCellDef="let element">
                                                {{element.ID}}
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Name">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                                            <td style="width: 15%" mat-cell *matCellDef="let element">
                                                {{element.Name}}
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Name2">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name2</th>
                                            <td style="width: 15%" mat-cell *matCellDef="let element">
                                                {{element.Name2}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Order">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Order</th>
                                            <td style="width: 20%" mat-cell *matCellDef="let element">
                                                {{element.Order}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="System">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> System </th>
                                            <td mat-cell *matCellDef="let element">
                                                {{getSystemName(element.SubMenuID,1).Name}}
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="Module">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Module </th>
                                            <td mat-cell *matCellDef="let element">
                                                {{getSystemName(element.SubMenuID,2).Name}}
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="subModule">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Sub Module </th>
                                            <td mat-cell *matCellDef="let element">
                                                {{getSystemName(element.SubMenuID,3).Name}}
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="actions">
                                            <th mat-header-cell *matHeaderCellDef>Actions</th>
                                            <td style="width: 10%" mat-cell *matCellDef="let element">
                                                <i (click)="updatePage(element)" class="fa fa-edit" placement="left"
                                                    ngbTooltip="Edit"></i>
                                                <i (click)="$event.stopPropagation()" class="fa fa-remove"
                                                    mwlConfirmationPopover [popoverTitle]="'Confirm'" [popoverMessage]="'are you sure to delete?'"
                                                    placement="left" (confirm)="deletePage(element.ID)" ngbTooltip="Delete"></i>
                                            </td>
                                        </ng-container>

                                        <tr mat-header-row *matHeaderRowDef="pageTableColumns"></tr>
                                        <tr mat-row *matRowDef="let row; columns: pageTableColumns;" (click)="updatePage(row)"
                                            class=" mat-row {{pageForm.ID===row.ID?'active':'not-active'}}"></tr>

                                    </table>
                                </div>
                                <mat-paginator #paginator4 [pageSizeOptions]="[10, 20, 30 ,40,50]"
                                    [showFirstLastButtons]="true"></mat-paginator>

                            </div>

                        </mat-tab>

                        <mat-tab label="Actions">
                            <div class="col-md-12">

                                <div class="col-md-12 extra-form">

                                    <fieldset class="animated fadeInDown">
                                        <legend>
                                            Action
                                        </legend>
                                        <form #form5="ngForm" (ngSubmit)="saveAction(form5)" class="{{submit5?'submited':''}}">
                                            <div class="row">

                                                <div class="form-group col-md-3">
                                                    <label for="System">System<span class="help-block">*</span></label>
                                                    <select name="System" class="form-control" [(ngModel)]="systemTemp"
                                                        (change)="loadModules(systemTemp)" required>
                                                        <option [ngValue]="undefined">Select</option>
                                                        <option *ngFor="let system of systems" [ngValue]="system.ID">{{system.Name}}</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="moduleTemp">Module <span class="help-block">*</span></label>
                                                    <select name="moduleTemp" placeholder="Module" class="form-control"
                                                        [(ngModel)]="moduleTemp" [disabled]="!systemTemp ||!modules ||modules.length===0"
                                                        (change)="loadSubModules(moduleTemp)" required>
                                                        <option ngValue="">Select</option>
                                                        <option *ngFor="let module of modules" [ngValue]="module.ID">{{module.Name}}</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="subModuleTemp">Sub Module <span class="help-block">*</span></label>
                                                    <select name="subModuleTemp" placeholder="Sub Module" class="form-control"
                                                        [(ngModel)]="subModuleTemp" [disabled]="!moduleTemp ||!subModules ||subModules.length===0"
                                                        (change)="loadPages(subModuleTemp)" required>
                                                        <option ngValue="">Select</option>
                                                        <option *ngFor="let subModule of subModules" [ngValue]="subModule.ID">{{subModule.Name}}</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="SubMenuID">Page <span class="help-block">*</span></label>
                                                    <select name="SubMenuID" placeholder="Page" class="form-control"
                                                        [(ngModel)]="actionForm.SubMenuID" [disabled]="!subModuleTemp ||!pages ||pages.length===0"
                                                        required>
                                                        <option ngValue="">Select</option>
                                                        <option *ngFor="let page of pages" [ngValue]="page.ID">{{page.Name}}</option>
                                                    </select>
                                                </div>

                                            </div>

                                            <div class="row">

                                                <div class="form-group col-md-3">
                                                    <label for="Name">Name <span class="help-block">*</span></label>
                                                    <input name="Name" placeholder="Name" type="text" class="form-control"
                                                        [(ngModel)]="actionForm.Name" required>
                                                </div>

                                                <div class="form-group col-md-3">
                                                    <label for="Name2">Name 2</label>
                                                    <input name="Name2" placeholder="Name 2" type="text" class="form-control"
                                                        [(ngModel)]="actionForm.Name2">
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="Order">Order <span class="help-block">*</span> </label>
                                                    <input name="Order" placeholder="Order" type="number" class="form-control"
                                                        [(ngModel)]="actionForm.Order" required>
                                                </div>
                                                <div class="form-group col-md-3">
                                                    <label for="Url">Url <span class="help-block">*</span></label>
                                                    <input name="Url" placeholder="Url" type="text" class="form-control"
                                                        [(ngModel)]="actionForm.Url" required>
                                                </div>
                                                <div class="col-md-12 text-right">
                                                    <br>
                                                    <br>
                                                    <input class="btn btn-default" type="reset" (click)="resetForm(form5)"
                                                        value="Reset" />
                                                    <input class="btn btn-primary " type="submit" value="Save" (click)="submit5=true" />
                                                </div>
                                            </div>

                                        </form>
                                    </fieldset>
                                    <div class="hr-line-dashed"></div>

                                </div>


                                <div class="html5buttons">
                                    <br>
                                    <div class="dt-buttons btn-group">
                                        <button class="btn btn-default" [disabled]="!selection2.hasValue()"
                                            mwlConfirmationPopover [popoverTitle]="'Confirm'" [popoverMessage]="'are you sure to delete?'"
                                            placement="bottom" (confirm)="deleteSelectedData()" ngbTooltip="Delete">
                                            <img src="assets/images/Trash-can.png"></button>
                                        <a class="btn btn-default buttons-csv buttons-html5" (click)="export('csv','actions')"
                                            placement="bottom" ngbTooltip="Export to CSV"><span>
                                                <img src="assets/images/csv.jpg"></span></a>
                                        <a class="btn btn-default buttons-excel buttons-html5" (click)="export('excel','actions')"
                                            placement="bottom" ngbTooltip="Export to Excel"><span><img src="assets/images/ExcelLogoSmall.scale-80.png"></span>
                                        </a>
                                        <a class="btn btn-default buttons-pdf buttons-html5" (click)="export('pdf','actions')"
                                            placement="bottom" ngbTooltip="Export to PDF"><span><img src="assets/images/pdf.jpg"></span></a>
                                        <a class="btn btn-default buttons-print" placement="bottom" ngbTooltip="Print Data"><span><img
                                                    src="assets/images/print.jpg"></span></a>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="System" (selectionChange)="reloadActionTable(actionForm.SubMenuID)"
                                                [(ngModel)]="subModuleForm.SubMenuID">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let system of systems" [value]="system.ID">
                                                    {{system.Name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="module" [disabled]="!modules ||modules.length===0"
                                                [(ngModel)]="subModuleForm.SubMenuID" (selectionChange)="reloadActionTable(actionForm.SubMenuID)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let module of modules" [value]="module.ID">
                                                    {{module.Name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="Sub Module" [disabled]="!subModules ||subModules.length===0"
                                                [(ngModel)]="subModuleForm.SubMenuID" (selectionChange)="reloadActionTable(actionForm.SubMenuID)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let subModule of subModules" [value]="subModule.ID">
                                                    {{subModule.Name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field>
                                            <mat-select placeholder="Page" [disabled]="!pages ||pages.length===0"
                                                [(ngModel)]="pageForm.SubMenuID" (selectionChange)="reloadActionTable(actionForm.SubMenuID)">
                                                <mat-option [value]=""> All </mat-option>
                                                <mat-option *ngFor="let page of pages" [value]="page.ID">
                                                    {{page.Name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="x">
                                    <div class="table-container">
                                        <table mat-table #table5 [dataSource]="actionsDataSource" matSort>

                                            <ng-container matColumnDef="select">
                                                <th mat-header-cell *matHeaderCellDef>
                                                    <mat-checkbox (change)="$event ? masterToggle5() : null" [checked]="selection5.hasValue() && isAllSelected5()"
                                                        [indeterminate]="selection5.hasValue() && !isAllSelected5()">
                                                    </mat-checkbox>
                                                </th>
                                                <td mat-cell *matCellDef="let row">
                                                    <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection5.toggle(row) : null"
                                                        [checked]="selection5.isSelected(row)">
                                                    </mat-checkbox>
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="ID">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                                                <td style="width: 5%" mat-cell *matCellDef="let element">
                                                    {{element.ID}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Name">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.Name}}
                                                </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Name2">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name2</th>
                                                <td style="width: 15%" mat-cell *matCellDef="let element">
                                                    {{element.Name2}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Order">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Order</th>
                                                <td style="width: 20%" mat-cell *matCellDef="let element">
                                                    {{element.Order}} </td>
                                            </ng-container>
                                            <ng-container matColumnDef="System">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header> System </th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getSystemName(element.SubMenuID,1).Name}}</td>
                                            </ng-container>
                                            <ng-container matColumnDef="Module">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Module </th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getSystemName(element.SubMenuID,2).Name}}</td>
                                            </ng-container>

                                            <ng-container matColumnDef="subModule">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Sub Module </th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getSystemName(element.SubMenuID,3).Name}}</td>
                                            </ng-container>

                                            <ng-container matColumnDef="page">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Page </th>
                                                <td mat-cell *matCellDef="let element">
                                                    {{getSystemName(element.SubMenuID,4).Name}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="actions">
                                                <th mat-header-cell *matHeaderCellDef>Actions</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <i (click)="updateAction(element)" class="fa fa-edit" placement="left"
                                                        ngbTooltip="Edit"></i>
                                                    <i (click)="$event.stopPropagation()" class="fa fa-remove"
                                                        mwlConfirmationPopover [popoverTitle]="'Confirm'"
                                                        [popoverMessage]="'are you sure to delete?'" placement="left"
                                                        (confirm)="deleteSystem(element.ID)" ngbTooltip="Delete"></i>
                                                </td>
                                            </ng-container>

                                            <tr mat-header-row *matHeaderRowDef="actionTableColumns"></tr>
                                            <tr mat-row *matRowDef="let row; columns: actionTableColumns;" (click)="updateAction(row)"
                                                class=" mat-row {{actionForm.ID===row.ID?'active':'not-active'}}"></tr>

                                        </table>
                                    </div>
                                    <mat-paginator #paginator5 [pageSizeOptions]="[10, 20, 30 ,40,50]"
                                        [showFirstLastButtons]="true"></mat-paginator>
                                </div>



                            </div>
                        </mat-tab>


                    </mat-tab-group>


                </div>


            </div>
        </div>

    </div>
</div>